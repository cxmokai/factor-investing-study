# 因子投资入门学习计划

> 背景：强编程、数学生疏、金融薄弱
> 目标市场：**传统金融（A股）+ 加密货币**
> 每天投入：4小时
> 预计周期：12-16 周

---

## 第一阶段：金融与数学基础（第1-3周）

每天分配：**2h 金融 + 2h 数学复习**

### 金融部分

| 周 | 主题 | 学习内容 | 资源 |
|---|------|---------|------|
| 1 | 市场基础 | 股票、债券、基金是什么；交易机制（订单簿、撮合）；A股/美股市场结构；加密货币市场概览（BTC/ETH、CEX vs DEX、与传统市场的异同） | 《漫步华尔街》前6章 + Binance Academy 入门系列 |
| 2 | 财务报表 | 三张表（资产负债表、利润表、现金流量表）；关键指标：PE、PB、ROE、EPS | 可汗学院"Finance and Capital Markets" |
| 3 | 投资组合理论 | 收益与风险、分散化、有效前沿、CAPM、Sharpe Ratio | Bodie《投资学》第6-9章 |

### 数学复习部分

重点复习以下内容（不需要从零学，查漏补缺即可）：

- **线性代数**：矩阵运算、特征值分解、协方差矩阵 → 用于组合优化
- **概率统计**：分布、假设检验、回归分析（OLS）、p值、t统计量 → 因子检验的核心
- **时间序列基础**：自相关、平稳性、AR模型 → 理解收益率序列

推荐：3Blue1Brown 线性代数视频 + StatQuest 统计视频（YouTube免费）

### 阶段产出
- 能读懂一家公司的财报，计算基本估值指标
- 了解加密货币市场的基本结构和交易规则
- 能手写 OLS 回归并理解系数含义

---

## 第二阶段：量化金融入门（第4-6周）

每天分配：**2h 理论 + 2h 编码实践**

### 理论

| 周 | 主题 | 内容 |
|---|------|------|
| 4 | 量化投资框架 | Alpha vs Beta；主动管理 vs 被动管理；量化策略分类 |
| 5 | 多因子模型理论 | Fama-French 三因子 → 五因子；APT套利定价理论 |
| 6 | 回测基础 | 回测框架设计；常见偏差（前视偏差、生存偏差、过拟合） |

**核心书籍**：
- 石川《因子投资：方法与实践》— **本计划最重要的一本书**，中文，贴合A股
- Andrew Ang《Asset Management: A Systematic Approach to Factor Investing》— 学术经典

### 编码实践（Python）

```
开发环境：
├── asdf            # Python 版本管理
├── uv              # 包管理与虚拟环境（替代 pip/conda）
└── jupyter notebook # 日常研究与分析

需要掌握的工具栈（通过 uv add 安装）：
├── pandas          # 金融数据处理的核心
├── numpy           # 矩阵运算
├── statsmodels     # 回归分析、时间序列
├── matplotlib      # 可视化
├── tushare/akshare # A股数据获取
├── ccxt            # 加密货币交易所统一API（支持100+交易所）
├── python-binance  # Binance交易所API
└── empyrical       # 收益率指标计算
```

**项目初始化**（第 1 周 Day 1 完成）：
```bash
cd ~/Work/Trade/factor-investing-study
mkdir -p code/notebooks code/data
cd code && uv init
uv add numpy pandas matplotlib jupyter statsmodels
uv run jupyter notebook --notebook-dir=notebooks
```

**练习项目**：
1. 用 tushare 拉取沪深300成分股3年日频数据；用 ccxt 拉取 BTC/ETH 等主流币种行情数据
2. 分别计算 A 股个股和加密货币的收益率、波动率、夏普比，对比两个市场的特征
3. 实现等权组合 vs 市值加权组合，对比表现（A 股 + 加密货币各做一次）
4. 用 OLS 对个股收益做 Fama-French 三因子回归，理解 alpha 和 beta；对加密货币收益做 BTC 单因子回归

---

## 第三阶段：单因子研究（第7-10周）⭐ 核心阶段

每天分配：**1h 理论 + 3h 编码**

### 学习路径：每周深入一个经典因子

| 周 | 因子 | 构造方法（A股） | 构造方法（加密货币） | 经济学直觉 |
|---|------|---------------|-------------------|-----------|
| 7 | **市值因子 (Size)** | 流通市值排序分组 | 流通市值排序分组（CoinGecko/CMC市值数据） | 小盘风险补偿 |
| 8 | **价值因子 (Value)** | BP、EP、DP等估值指标 | NVT（网络价值/交易量）、MVRV（市值/已实现价值） | 低估修复 / 链上价值 |
| 9 | **动量因子 (Momentum)** | 过去N月累计收益率 | 过去N周累计收益率（加密市场节奏更快） | 行为金融：反应不足 |
| 10 | **质量因子 (Quality)** | ROE、盈利稳定性、低杠杆 | 链上活跃度（活跃地址数、开发者活动、协议收入） | 好项目溢价 |

### 每个因子的标准研究流程（形成肌肉记忆）

```
对每个因子重复以下步骤：

1. 因子构造
   - 从原始数据计算因子值（A股用财务数据，加密用链上数据）
   - 处理缺失值、异常值（winsorize）
   - 行业中性化、市值中性化（可选；加密市场用板块中性化：L1/DeFi/NFT等）

2. 因子分析
   - IC 分析（因子值与下期收益的截面相关系数）
   - IC 均值、IC_IR（IC均值/IC标准差）、IC胜率
   - 分组回测：按因子值排序分5-10组，看多空组合收益

3. 回测评估
   - 年化收益、年化波动、最大回撤、夏普比率
   - 换手率分析
   - 不同时间段的稳定性

4. 可视化
   - 分组净值曲线
   - IC 时间序列图
   - 因子收益的月度热力图
```

### 阶段产出
- 一个可复用的**单因子研究框架**（Python 代码），同时适用于 A 股和加密货币
- 4个因子的完整研究报告（每个因子在两个市场分别研究并对比）

---

## 第四阶段：多因子组合（第11-13周）

每天分配：**1.5h 理论 + 2.5h 编码**

| 周 | 主题 | 内容 |
|---|------|------|
| 11 | 因子合成 | 等权合成 vs IC加权 vs IC_IR加权；因子正交化 |
| 12 | 组合优化 | 均值方差优化；风险平价；Black-Litterman；约束条件处理 |
| 13 | 风险模型 | Barra风险模型框架；协方差矩阵估计（收缩估计）；风险归因 |

### 编码项目
分别构建 **A 股多因子选股策略** 和 **加密货币多因子策略**：
1. 合成一个综合因子（A股：Value + Quality + Momentum；加密：NVT + 链上活跃度 + Momentum）
2. 定期调仓（A股每月调仓，加密每周调仓——节奏更快）
3. 加入交易成本（A股：佣金+印花税+滑点；加密：maker/taker手续费+滑点）
4. 完整绩效评估与风险归因，对比两个市场策略的特征差异

---

## 第五阶段：进阶与实战（第14-16周）

每天分配：**1h 阅读 + 3h 实战**

### 进阶主题（选学）

- **另类因子**：低波动、反转、SUE（标准化预期外盈利）
- **加密独有因子**：资金费率（Funding Rate）、社交情绪（Twitter/Discord活跃度）、巨鲸钱包监控、TVL（总锁仓价值）
- **因子拥挤与衰减**：因子何时失效、如何监控
- **机器学习方法**：用 XGBoost/LightGBM 做因子非线性合成
- **高频因子**：日内数据、订单流因子（加密市场 24/7 交易，高频数据更易获取）

### 实战建议
- **A股**：在 **聚宽(JoinQuant)** 或 **米筐(RiceQuant)** 平台上部署策略进行模拟盘
- **加密货币**：在 Binance/OKX 测试网（Testnet）部署策略，或用 CCXT 的 sandbox 模式模拟交易
- 参加一次 WorldQuant Brain 或类似量化竞赛
- 开始用真实小资金跑一个简单策略，体验实盘与回测的差距（加密市场可以从更小的资金开始）

---

## 每日时间分配模板

| 时段 | 内容 | 说明 |
|------|------|------|
| 第一小时 | 理论学习 | 读书 / 看视频 / 做笔记 |
| 第二小时 | 理论学习 | 公式推导 / 习题 |
| 第三小时 | 编码实践 | 写代码复现理论 |
| 第四小时 | 编码实践 | 记录总结 |

> 周末建议：回顾本周内容，写一篇总结笔记

---

## 核心资源清单

### 书籍（按优先级）
1. 石川《因子投资：方法与实践》— 中文必读，实操性强
2. Antti Ilmanen《Expected Returns》— 因子收益的百科全书
3. Marcos López de Prado《Advances in Financial Machine Learning》— ML+量化
4. Chris Burniske《Cryptoassets》— 加密资产估值框架

### 数据源

**传统金融：**
- `tushare` (pro版需积分) / `akshare` (免费) — A股数据
- Kenneth French Data Library — Fama-French 因子数据（美股，免费）

**加密货币：**
- `ccxt` — 统一API，支持100+交易所的行情和交易数据
- CoinGecko API — 市值、交易量、历史价格（免费额度充足）
- Glassnode / IntoTheBlock — 链上数据（活跃地址、NVT、MVRV等，部分免费）
- Dune Analytics — 自定义链上数据查询（SQL，免费）
- DeFi Llama — DeFi 协议TVL数据（免费开放API）

### 社区

**传统金融：**
- 聚宽社区 — 大量中文因子研究帖子
- 知乎"量化投资"话题 — 入门级讨论

**加密货币：**
- Messari Research — 加密资产研究报告
- CryptoQuant — 链上数据分析社区
- Twitter/X 的 Crypto Quant 社区 — 实时研究分享

**通用：**
- arXiv q-fin — 最新学术论文（传统+加密都有）

---

## 给程序员的特别建议

1. **代码即笔记**：每个概念都用 Jupyter Notebook 实现一遍，比如自己实现一次 OLS 回归再用 statsmodels 验证。每天一个 notebook，方便回顾
2. **版本管理**：从第一天起用 Git 管理你的研究代码
3. **善用工具链**：用 asdf 管理 Python 版本，用 uv 管理依赖（`uv add` 安装包、`uv run` 执行命令），保持环境干净可复现
4. **抵制过早优化**：先把因子逻辑跑通，别一开始就纠结代码架构
5. **警惕过拟合**：你的工程能力会让你很容易拟合出漂亮的回测曲线，但这是最大的陷阱。记住：**样本外表现才是真实表现**
6. **从单因子开始**：不要跳过基础直接上机器学习，理解线性模型的局限性后，ML才有意义
7. **两个市场交叉验证**：先在 A 股学通因子研究方法论（数据质量高、研究成熟），再迁移到加密市场。加密市场数据质量差、生存偏差严重，需要更强的基本功
8. **加密市场特别注意**：24/7 交易意味着没有"收盘价"概念（通常用 UTC 0:00 快照）；币种退市/归零频繁，务必处理生存偏差；BTC 是加密市场的"大盘指数"，大部分币种与 BTC 高度相关
