# 因子投资学习计划

> **目标：** 掌握因子投资的完整方法论——从定义因子到构建组合，能独立评估和实现一个多因子策略
> **时间：** 18 天，每天 2 小时
> **前提：** 已完成（或正在进行）金融知识和数学知识两个学习计划

---

## 这个计划和前两个计划的关系

```
金融知识（11天）→ 回答"为什么"
  股票是什么、市场怎么运作、CAPM/FF3 的含义、行为金融

数学知识（10天）→ 回答"用什么工具"
  回归、假设检验、协方差矩阵、优化

因子投资（18天）→ 回答"怎么做"  ← 你现在在这里
  如何定义因子、如何检验因子、如何组合因子、如何构建组合
```

金融知识提供了直觉，数学提供了工具，因子投资这个计划把两者结合，变成可执行的方法论。

---

## 书单

| # | 书名 | 评分 | 使用范围 |
|---|------|:---:|---------:|
| 1 | 《因子投资：方法与实践》 | 8.7 | Ch2-7（全书精读） |

> 石川 Ch1 已在 Day 10 覆盖。本计划从 Ch2 开始。

## 论文

| 论文 | 对应模块 | 优先级 |
|------|---------|:---:|
| Fama & French (1993) "Common Risk Factors" | 模块一 Day 23 + 模块三 Day 30 | 必读 |
| Jegadeesh & Titman (1993) "Returns to Buying Winners and Selling Losers" | 模块二 Day 27 | 必读 |
| Fama & French (2015) "A Five-Factor Asset Pricing Model" | 模块三 Day 30 | 选读 |
| Novy-Marx (2013) "The Other Side of Value" | 模块二 Day 29 | 选读 |
| Harvey, Liu & Zhu (2016) "...and the Cross-Section of Expected Returns" | 模块一 Day 24 | 选读 |
| Banz (1981) "The Relationship Between Return and Market Value" | 模块二 Day 25 | 选读 |
| Carhart (1997) "On Persistence in Mutual Fund Performance" | 模块二 Day 27 | 选读 |
| Asness, Frazzini & Pedersen (2019) "Quality Minus Junk" | 模块二 Day 28 | 选读 |
| Amihud (2002) "Illiquidity and Stock Returns" | 模块六 Day 36 | 选读 |
| López de Prado (2018) *Advances in Financial Machine Learning* Ch1-2 | 模块七 Day 38 | 选读 |

## 工具

| 工具 | 用途 |
|------|------|
| Python + pandas / numpy | 数据处理、因子计算 |
| statsmodels | 回归分析、Newey-West 标准误 |
| scipy.optimize / cvxpy | 组合优化 |
| scikit-learn | PCA、协方差收缩、ML 因子合成 |
| xgboost / lightgbm | 非线性因子合成 |
| akshare / tushare | A 股数据获取 |
| ccxt | 加密市场数据获取 |
| matplotlib | 可视化 |

---

## 模块一：因子投资方法论（Day 22-24）

**目标：** 掌握因子研究的两大方法——投资组合排序法和回归检验法

### Day 22：因子投资全景与排序法入门

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 因子投资的完整流程（从数据到组合的 7 个步骤）、好因子的 5 个标准、因子投资在量化体系中的定位（介于被动和主动之间的"系统化主动"） | 石川 Ch2 引言 |
| 1h | 投资组合排序法：单变量排序的逻辑、步骤、因子收益率的计算 | 石川 2.1 |

> **量化策略的主要类型：** 统计套利、CTA（趋势跟踪）、多因子选股、事件驱动、高频做市。因子投资属于多因子选股，是容量最大、最适合非专业机构的策略类型。加密市场还有特殊策略：跨交易所套利、资金费率套利、DeFi 收益策略。

### Day 23：排序法进阶与因子评估

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 双变量排序（控制变量）、独立排序 vs 条件排序 | 石川 2.1 续 |
| 1h | 因子收益率的统计检验：t 值、Newey-West 调整、单调性检验 | 石川 2.1 + Day 16-18 |

### Day 24：回归检验法与多重检验

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | Fama-MacBeth 两步回归法：截面回归 + 时序平均 | 石川 2.2 |
| 1h | 多重检验问题：因子动物园、数据挖掘风险、Harvey 准则（t > 3.0） | 石川 2.3-2.4 + Harvey et al. (2016) |

**学完能回答：**
- 投资组合排序法的具体步骤是什么？
- 因子收益率的 t 值为什么要用 Newey-West 调整？
- Fama-MacBeth 回归的两步分别在做什么？
- 为什么因子的 t 值需要达到 3.0 而不是传统的 2.0？

---

## 模块二：经典因子（Day 25-29）

**目标：** 逐个理解每个经典因子的定义、构造方法、经济学逻辑和实证表现

### Day 25：市场因子与规模因子

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 市场因子（MKT）：定义、计算方法、CAPM 中的角色 | 石川 3.1 |
| 1h | 规模因子（SMB）：小盘溢价的发现（Banz 1981）、2×3 分组构造方法、A 股特殊性（壳价值、注册制改革后小盘效应减弱） | 石川 3.2 + Banz (1981) |

### Day 26：价值因子

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 价值因子（HML）：BM、EP 等指标的定义与选择、构造方法 | 石川 3.3 |
| 1h | 价值因子的经济学解释（风险补偿 vs 行为偏差）、A 股中的价值效应 | 石川 3.3 + FF(1993) |

### Day 27：动量因子

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 动量因子（UMD/WML）：定义、形成期与持有期、截面动量 vs 时序动量、Carhart 四因子模型 | 石川 3.4 + Carhart (1997) |
| 1h | 动量崩溃（momentum crash）、短期反转效应、A 股中的动量/反转效应 | 石川 3.4 + Jegadeesh & Titman (1993) |

### Day 28：盈利因子与投资因子

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 盈利因子（RMW）：ROE、毛利率等指标的选择、构造方法、质量因子的多维含义（盈利能力、盈利稳定性、财务健康、盈利质量） | 石川 3.5 + Asness et al. (2019) |
| 1h | 投资因子（CMA）：总资产增长率、保守投资溢价 | 石川 3.6 |

### Day 29：换手率因子与加密市场因子

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 换手率因子：A 股特有的低换手率溢价、流动性因子 | 石川 3.7 |
| 1h | 加密市场的因子：NVT、MVRV、链上活跃度因子、因子动物园问题 | 补充讲义 |

**学完能回答：**
- Fama-French 三因子模型的 SMB 和 HML 分别怎么构造？
- 价值因子为什么长期有效？风险派和行为派各怎么解释？
- A 股为什么"动量弱、反转强"？
- 盈利因子和价值因子有什么内在矛盾？
- 加密市场适合用哪些因子？

---

## 模块三：多因子模型（Day 30-31）

**目标：** 理解如何将多个因子组合成一个模型，以及模型之间如何比较

### Day 30：因子模型的构建与比较

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 从 CAPM 到 FF3 到 Carhart 四因子到 FF5：模型演进的逻辑、每次"加因子"解决了什么问题。APT（套利定价理论）与 CAPM 的区别——APT 不要求市场组合存在，允许多个系统性风险因子 | 石川 Ch4 + FF(1993) + FF(2015) |
| 1h | 模型比较方法：GRS 检验、alpha 是否被解释、信息比率 | 石川 Ch4 |

### Day 31：因子合成方法

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 因子合成的三种方法：等权、IC 加权、最优化加权 | 石川 Ch4 + 补充讲义 |
| 1h | 因子正交化、因子间的相关性处理、因子择时（简要） | 石川 Ch4 |

**学完能回答：**
- FF5 比 FF3 多了什么？解决了什么问题？
- GRS 检验在做什么？
- 等权合成和 IC 加权合成有什么区别？什么时候用哪个？

---

## 模块四：回测方法论（Day 32-33）

**目标：** 知道怎样的回测结果才可信，怎样的是自欺欺人

### Day 32：回测方法论与常见偏差

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 回测的完整流程：数据准备 → 信号生成 → 组合构建 → 绩效评估 | 石川 Ch7 |
| 1h | 回测陷阱：前视偏差、幸存者偏差、过拟合、数据窥探、交易成本忽略 | 石川 Ch7 + Harvey et al. (2016) |

### Day 33：绩效评估与归因

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 绩效指标：年化收益、夏普比率、最大回撤、Calmar 比率、信息比率 | 石川 Ch7 |
| 1h | 收益归因：Brinson 归因、因子归因——超额收益来自哪个因子？ | 石川 Ch7 |

**学完能回答：**
- 前视偏差最常出现在哪个环节？怎么避免？
- 一个策略的回测夏普比率 3.0，你信吗？为什么？
- 信息比率和夏普比率有什么区别？

---

## 模块五：组合构建（Day 34-35）

**目标：** 从因子信号到可交易的投资组合

### Day 34：组合构建与优化

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 从因子得分到组合权重：排序法、打分法、优化法（均值-方差优化、风险平价、Black-Litterman） | 石川 Ch7 |
| 1h | 约束条件：行业中性、个股上限、换手率约束、交易成本建模 | 石川 Ch7 + 补充讲义 |

### Day 35：完整策略整合

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 完整链路走一遍：数据 → 因子 → 检验 → 合成 → 组合 → 回测 → 评估 | 全书整合 |
| 1h | 组合优化的实践挑战：协方差矩阵估计不稳定、优化结果对输入敏感、换手率过高。解决方案：正则化、收缩估计、换手率惩罚 | 石川 Ch7 |

**学完能回答：**
- 行业中性化在做什么？为什么需要？
- 一个完整的多因子策略从头到尾有哪些步骤？
- 风险平价和均值-方差优化有什么本质区别？

---

## 模块六：风险模型与另类因子（Day 36-37）

**目标：** 理解工业级风险模型和超越经典的因子

### Day 36：Barra 风险模型

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | Barra 多因子风险模型框架：r = Xf + u（X 因子暴露矩阵，f 因子收益向量，u 特异收益）。风格因子 + 行业因子的设计 | 补充讲义 |
| 1h | 结构化协方差矩阵 Σ = XFX' + Δ 的优势：当股票数 N > 时间期数 T 时，样本协方差矩阵不可用，结构化方法降维估计 | 补充讲义 |

### Day 37：另类因子

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 低波动因子（低波动异象：低风险股票反而收益更高）、Amihud 非流动性因子（流动性差需要补偿） | Amihud (2002) + 补充讲义 |
| 1h | SUE 因子（盈利意外 / PEAD 效应）、技术面因子（均线偏离度、成交量变化率）、加密独有因子（资金费率、交易所净流入） | 补充讲义 |

**学完能回答：**
- Barra 模型把股票收益分解成了哪几部分？
- 结构化协方差矩阵比样本协方差好在哪里？
- 低波动异象为什么和"高风险高收益"矛盾？

---

## 模块七：机器学习与前沿话题（Day 38-39）

**目标：** 了解 ML 在因子投资中的应用边界，理解因子投资的局限性和未来方向

### Day 38：机器学习与因子

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | ML 在因子投资中的三大应用：(1) 非线性因子合成（XGBoost/LightGBM 替代线性加权），(2) 收益率预测，(3) 组合优化。金融 ML 的最大挑战：信噪比极低，极易过拟合 | López de Prado Ch1-2 + 石川 Ch6 |
| 1h | 过拟合防控：时序交叉验证（Purged K-Fold）、样本外测试的严格分离、模型复杂度控制。ML vs 线性模型：什么时候 ML 有优势？ | 补充讲义 |

### Day 39：因子拥挤、衰减与未来方向

| 时间 | 内容 | 资料 |
|------|------|------|
| 1h | 因子拥挤（Factor Crowding）：太多人用同一个因子 → 超额收益被竞争掉。因子衰减：IC 随时间下降。监控方法：滚动 IC、因子估值差 | 补充讲义 |
| 1h | 因子投资的局限性、未来方向：另类数据（链上数据、舆情）、高频因子、因子择时 | 石川 Ch6 |

**学完能回答：**
- ML 因子合成和线性合成有什么区别？什么时候用 ML？
- 为什么金融数据特别容易过拟合？
- 因子拥挤怎么监控？
- 因子投资最大的局限性是什么？

---

## 不需要学的

| 内容 | 跳过原因 |
|------|---------|
| 因子择时的深入方法 | 因子择时效果有争议，实践中常用等权；高级话题 |
| 高频因子 / 日内因子 | 因子投资通常月频或周频，高频是另一个领域 |
| 期权策略 / 衍生品对冲 | 本阶段只涉及股票多空 |
| 石川 Ch5（异象研究）细节 | 学术导向，实践中用不到大部分内容 |
| ML 模型调参细节 | 理解概念即可，具体实现在编程实战中做 |

---

## 各资料使用总览

| 资料 | 使用范围 | 跳过 |
|-----|---------|------|
| 《因子投资：方法与实践》 | Ch2（方法论）、Ch3（因子）、Ch4（多因子）、Ch6（部分）、Ch7（实践） | Ch1（已学）、Ch5（异象细节） |
| FF (1993) | Day 23 + Day 30（理解三因子构造） | — |
| Jegadeesh & Titman (1993) | Day 27（动量因子原始论文） | — |
| FF (2015) | Day 30（五因子模型） | — |
| Harvey et al. (2016) | Day 24 + Day 32（多重检验） | — |
| Amihud (2002) | Day 36（流动性因子） | — |
| López de Prado (2018) | Day 38（ML 概念，只读 Ch1-2） | — |

---

## 后续衔接

因子投资 18 天完成后，进入：
- **编程实战（Day 40-69）**：用 Python + Jupyter 逐一实现每个模块的内容，包括 ML 因子合成和实盘部署（另有独立计划）
